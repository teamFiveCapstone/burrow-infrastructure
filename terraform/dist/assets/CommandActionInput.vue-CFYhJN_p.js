import{d as f,a as g,c as x,b,j as d,al as i,p as w,q as y,h as p,e as V,S as k,Z as B,T as C,n as m,ac as u,r as _,o as D,a6 as $,R as E,w as K,i as P,k as T}from"./index-6FRNjKLB.js";const A={class:"flex gap-2"},M={class:"flex max-h-8 flex-1"},z=f({__name:"CommandActionForm",props:{loading:{},disabled:{type:Boolean,default:!1}},emits:["submit","cancel","back"],setup(c){const{cx:l}=g();return(a,t)=>(b(),x("form",{class:"flex w-full flex-col gap-3",onKeydown:t[0]||(t[0]=u(m(()=>{},["stop"]),["enter"])),onSubmit:t[1]||(t[1]=m(n=>!a.disabled&&a.$emit("submit"),["prevent","stop"]))},[d("div",w(y(p(l)("relative flex min-h-20 flex-col rounded"))),[i(a.$slots,"default")],16),d("div",A,[d("div",M,[i(a.$slots,"options")]),V(p(C),{class:"max-h-8 px-3 text-xs",disabled:a.disabled,loading:a.loading,type:"submit"},{default:k(()=>[i(a.$slots,"submit",{},()=>[t[2]||(t[2]=B("Continue",-1))])]),_:3},8,["disabled","loading"])])],32))}}),N=["placeholder"],R=f({inheritAttrs:!1,__name:"CommandActionInput",props:{modelValue:{},placeholder:{},autofocus:{type:Boolean}},emits:["update:modelValue","onDelete"],setup(c,{emit:l}){const a=c,t=l,n=_(null);D(()=>$(()=>{a.autofocus||n.value?.focus()}));const r=E({get:()=>a.modelValue??"",set:e=>t("update:modelValue",e)});function h(e){if(e.shiftKey||!e.target)return;e.preventDefault();const o=e.target,s=new Event("submit",{cancelable:!0});o.form?.dispatchEvent(s)}function v(e){r.value===""&&(e.preventDefault(),e.stopPropagation(),t("onDelete",e))}return(e,o)=>K((b(),x("textarea",T({id:"command-action-input",ref_key:"input",ref:n,"onUpdate:modelValue":o[0]||(o[0]=s=>r.value=s),class:"min-h-8 w-full flex-1 resize-none border border-transparent py-1.5 pl-8.5 text-sm outline-none focus:border-b-1",placeholder:a.placeholder??"",wrap:"hard"},e.$attrs,{onKeydown:[o[1]||(o[1]=u(s=>v(s),["delete"])),o[2]||(o[2]=u(s=>h(s),["enter"]))]}),null,16,N)),[[P,r.value]])}});export{R as E,z as h};
