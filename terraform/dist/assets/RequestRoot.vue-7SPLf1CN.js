import{d as Oe,m as Ia,r as se,u as $a,a as Aa,c as ee,o as bt,b as _,e as T,w as oa,f as j,g as W,h as l,v as Oa,i as Na,j as g,k as Za,l as Ma,n as te,V as ja,C as Da,p as qa,q as Ua,s as Zt,t as ye,x as ae,y as Xe,z as la,A as Ue,B as ze,D as za,E as ke,F as Pa,G as Va,H as Dt,I as Qt,J as La,K as Wa,L as Jt,M as Ba,N as Fa,W as Ha,O as Ja,P as Ya,Q as Ge,R as X,S as R,T as pe,U as $e,X as it,Y as Pe,Z as we,_ as Pt,$ as ca,a0 as G,a1 as Vt,a2 as le,a3 as Ka,a4 as Ct,a5 as St,a6 as ua,a7 as da,a8 as Qa,a9 as nt,aa as Yt,ab as Xa,ac as wt,ad as et,ae as Ga,af as rt,ag as fa,ah as Mt,ai as es,aj as ts,ak as Xt,al as Gt,am as ea,an as ta,ao as as,ap as ss,aq as ns,ar as rs,as as is,at as os,au as ha,av as ls,aw as cs,ax as me,ay as us,az as Tt,aA as ds,aB as aa,aC as fs,aD as qt,aE as hs,aF as ps}from"./index-D7a02O2S.js";import{m as pa,c as ms,o as vs,C as ys,y as gs,D as _s,h as bs}from"./mediaTypes-DiHizfGs.js";import{i as sa}from"./ScalarAsciiArt.vue-C8IO1xrC.js";import{g as xs,m as ks}from"./SidebarButton.vue-DMbRgK4f.js";import{a as ws,w as Lt}from"./DeleteSidebarListElement.vue-BFxO_Qyx.js";import{$ as Ts}from"./IconSelector.vue-3B6QzorD.js";import{C as ma}from"./EditSidebarListElement.vue-Cjpri2Sx.js";import"./ScalarHotkey.vue-DuEZeTSm.js";const Cs=["aria-label"],Ss=Oe({inheritAttrs:!1,__name:"ScalarSidebarSearchInput",props:Ia({autofocus:{type:Boolean},loading:{},label:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const e=se(null),t=$a(a,"modelValue");function s(){t.value="",e.value&&e.value.focus()}const{stylingAttrsCx:n,otherAttrs:r}=Aa();return bt(()=>a.autofocus&&e.value?.focus()),(o,i)=>(_(),ee("label",qa(Ua(l(n)("flex items-center rounded border text-base has-[:focus-visible]:bg-b-1 has-[:focus-visible]:outline h-8 gap-1 pl-2 pr-1.5","bg-sidebar-b-search border-sidebar-border-search",t.value?"text-c-1":"text-sidebar-c-search"))),[T(l(Oa),{class:"text-sidebar-c-search size-4"}),oa(g("input",Za({ref_key:"inputRef",ref:e,"aria-label":o.label??"Enter search query",autocapitalize:"off",autocomplete:"off",autocorrect:"off",class:"flex-1 appearance-none rounded border-none bg-transparent outline-none",placeholder:"Search...",spellcheck:"false",type:"search"},l(r),{"onUpdate:modelValue":i[0]||(i[0]=u=>t.value=u)}),null,16,Cs),[[Na,t.value]]),o.loading&&o.loading.isLoading?(_(),j(l(Ma),{key:0,class:"mr-3 self-center",loadingState:o.loading,size:"md"},null,8,["loadingState"])):t.value?(_(),j(l(Da),{key:1,class:"p-0.25 size-4",icon:l(ja),weight:"bold",label:"Clear Search",onClick:te(s,["stop","prevent"])},null,8,["icon"])):W("",!0)],16))}}),Rs={parse(a){try{return{error:!1,data:JSON.parse(a)}}catch(e){return{error:!0,message:e.message?String(e.message):"Unknown Error"}}}},Es=["aria-pressed"],Is={class:"sr-only"},$s={class:"size-4",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},As={"clip-path":"url(#mask)"},Os=Oe({__name:"SidebarToggle",setup(a){const{isSidebarOpen:e,toggleSidebarOpen:t}=Zt();return(s,n)=>(_(),ee("button",{"aria-pressed":l(e),class:"scalar-sidebar-toggle text-c-3 hover:bg-b-2 active:text-c-1 rounded-lg p-2",type:"button",onClick:n[0]||(n[0]=(...r)=>l(t)&&l(t)(...r))},[g("span",Is,ye(l(e)?"Hide":"Show")+" sidebar",1),(_(),ee("svg",$s,[n[1]||(n[1]=g("defs",null,[g("clipPath",{id:"mask"},[g("path",{"clip-rule":"evenodd",d:"M9 3.2H4c-1.7 0-3 1.3-3 3v11.5c0 1.7 1.3 3 3 3h5V3.2z"})])],-1)),g("g",As,[g("path",{class:ae(["transition-transform duration-300",l(e)?"translate-x-0":"-translate-x-1/2"]),d:"M1 3.2h8v17.5H1z",fill:"currentColor"},null,2)]),n[2]||(n[2]=g("path",{d:"M20 20.8H4c-1.7 0-3-1.3-3-3V6.2c0-1.7 1.3-3 3-3h16c1.7 0 3 1.3 3 3v11.5c0 1.7-1.3 3-3 3zM9 3.2v17.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1))]))],8,Es))}});var V;(function(a){a.assertEqual=n=>n;function e(n){}a.assertIs=e;function t(n){throw new Error}a.assertNever=t,a.arrayToEnum=n=>{const r={};for(const o of n)r[o]=o;return r},a.getValidEnumValues=n=>{const r=a.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),o={};for(const i of r)o[i]=n[i];return a.objectValues(o)},a.objectValues=n=>a.objectKeys(n).map(function(r){return n[r]}),a.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const r=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.push(o);return r},a.find=(n,r)=>{for(const o of n)if(r(o))return o},a.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,r=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(r)}a.joinValues=s,a.jsonStringifyReplacer=(n,r)=>typeof r=="bigint"?r.toString():r})(V||(V={}));var Wt;(function(a){a.mergeShapes=(e,t)=>({...e,...t})})(Wt||(Wt={}));const v=V.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ie=a=>{switch(typeof a){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(a)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":return Array.isArray(a)?v.array:a===null?v.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?v.promise:typeof Map<"u"&&a instanceof Map?v.map:typeof Set<"u"&&a instanceof Set?v.set:typeof Date<"u"&&a instanceof Date?v.date:v.object;default:return v.unknown}},f=V.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ns=a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:");class he extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},s={_errors:[]},n=r=>{for(const o of r.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(t(o));else{let i=s,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(i[d]=i[d]||{_errors:[]},i[d]._errors.push(t(o))):i[d]=i[d]||{_errors:[]},i=i[d],u++}}};return n(this),s}static assert(e){if(!(e instanceof he))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,V.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}he.create=a=>new he(a);const Ye=(a,e)=>{let t;switch(a.code){case f.invalid_type:a.received===v.undefined?t="Required":t=`Expected ${a.expected}, received ${a.received}`;break;case f.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(a.expected,V.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:t=`Unrecognized key(s) in object: ${V.joinValues(a.keys,", ")}`;break;case f.invalid_union:t="Invalid input";break;case f.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${V.joinValues(a.options)}`;break;case f.invalid_enum_value:t=`Invalid enum value. Expected ${V.joinValues(a.options)}, received '${a.received}'`;break;case f.invalid_arguments:t="Invalid function arguments";break;case f.invalid_return_type:t="Invalid function return type";break;case f.invalid_date:t="Invalid date";break;case f.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(t=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?t=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?t=`Invalid input: must end with "${a.validation.endsWith}"`:V.assertNever(a.validation):a.validation!=="regex"?t=`Invalid ${a.validation}`:t="Invalid";break;case f.too_small:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:t="Invalid input";break;case f.too_big:a.type==="array"?t=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?t=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?t=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?t=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?t=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:t="Invalid input";break;case f.custom:t="Invalid input";break;case f.invalid_intersection_types:t="Intersection results could not be merged";break;case f.not_multiple_of:t=`Number must be a multiple of ${a.multipleOf}`;break;case f.not_finite:t="Number must be finite";break;default:t=e.defaultError,V.assertNever(a)}return{message:t}};let va=Ye;function Zs(a){va=a}function Rt(){return va}const Et=a=>{const{data:e,path:t,errorMaps:s,issueData:n}=a,r=[...t,...n.path||[]],o={...n,path:r};if(n.message!==void 0)return{...n,path:r,message:n.message};let i="";const u=s.filter(d=>!!d).slice().reverse();for(const d of u)i=d(o,{data:e,defaultError:i}).message;return{...n,path:r,message:i}},Ms=[];function p(a,e){const t=Rt(),s=Et({issueData:e,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,t,t===Ye?void 0:Ye].filter(n=>!!n)});a.common.issues.push(s)}class ie{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if(n.status==="aborted")return $;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const n of t){const r=await n.key,o=await n.value;s.push({key:r,value:o})}return ie.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:r,value:o}=n;if(r.status==="aborted"||o.status==="aborted")return $;r.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[r.value]=o.value)}return{status:e.value,value:s}}}const $=Object.freeze({status:"aborted"}),He=a=>({status:"dirty",value:a}),ce=a=>({status:"valid",value:a}),Bt=a=>a.status==="aborted",Ft=a=>a.status==="dirty",Le=a=>a.status==="valid",ot=a=>typeof Promise<"u"&&a instanceof Promise;function It(a,e,t,s){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(a)}function ya(a,e,t,s,n){if(typeof e=="function"?a!==e||!0:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(a,t),t}var x;(function(a){a.errToObj=e=>typeof e=="string"?{message:e}:e||{},a.toString=e=>typeof e=="string"?e:e?.message})(x||(x={}));var tt,at;class Ce{constructor(e,t,s,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const na=(a,e)=>{if(Le(e))return{success:!0,data:e.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new he(a.common.issues);return this._error=t,this._error}}};function N(a){if(!a)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:n}=a;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,i)=>{var u,d;const{message:c}=a;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:(u=c??s)!==null&&u!==void 0?u:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(d=c??t)!==null&&d!==void 0?d:i.defaultError}},description:n}}class D{get description(){return this._def.description}_getType(e){return Ie(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ie,ctx:{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ot(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const n={common:{issues:[],async:(s=t?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},r=this._parseSync({data:e,path:n.path,parent:n});return na(n,r)}"~validate"(e){var t,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Le(r)?{value:r.value}:{issues:n.common.issues}}catch(r){!((s=(t=r?.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Le(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},n=this._parse({data:e,path:s.path,parent:s}),r=await(ot(n)?n:Promise.resolve(n));return na(s,r)}refine(e,t){const s=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,r)=>{const o=e(n),i=()=>r.addIssue({code:f.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof t=="function"?t(s,n):t),!1))}_refinement(e){return new _e({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Te.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ge.create(this)}promise(){return Qe.create(this,this._def)}or(e){return dt.create([this,e],this._def)}and(e){return ft.create(this,e,this._def)}transform(e){return new _e({...N(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new yt({...N(this._def),innerType:this,defaultValue:t,typeName:I.ZodDefault})}brand(){return new Kt({typeName:I.ZodBranded,type:this,...N(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new gt({...N(this._def),innerType:this,catchValue:t,typeName:I.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return xt.create(this,e)}readonly(){return _t.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const js=/^c[^\s-]{8,}$/i,Ds=/^[0-9a-z]+$/,qs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Us=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zs=/^[a-z0-9_-]{21}$/i,Ps=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ls=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ws="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ut;const Bs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Js=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ys=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ks=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ga="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qs=new RegExp(`^${ga}$`);function _a(a){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return a.precision?e=`${e}\\.\\d{${a.precision}}`:a.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Xs(a){return new RegExp(`^${_a(a)}$`)}function ba(a){let e=`${ga}T${_a(a)}`;const t=[];return t.push(a.local?"Z?":"Z"),a.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Gs(a,e){return!!((e==="v4"||!e)&&Bs.test(a)||(e==="v6"||!e)&&Hs.test(a))}function en(a,e){if(!Ps.test(a))return!1;try{const[t]=a.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function tn(a,e){return!!((e==="v4"||!e)&&Fs.test(a)||(e==="v6"||!e)&&Js.test(a))}class ve extends D{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){const r=this._getOrReturnCtx(e);return p(r,{code:f.invalid_type,expected:v.string,received:r.parsedType}),$}const s=new ie;let n;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="max")e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="length"){const o=e.data.length>r.value,i=e.data.length<r.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?p(n,{code:f.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&p(n,{code:f.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),s.dirty())}else if(r.kind==="email")Ls.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"email",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="emoji")Ut||(Ut=new RegExp(Ws,"u")),Ut.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"emoji",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="uuid")Us.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"uuid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="nanoid")zs.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"nanoid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid")js.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid2")Ds.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid2",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="ulid")qs.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ulid",code:f.invalid_string,message:r.message}),s.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),p(n,{validation:"url",code:f.invalid_string,message:r.message}),s.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"regex",code:f.invalid_string,message:r.message}),s.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),s.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:{startsWith:r.value},message:r.message}),s.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:{endsWith:r.value},message:r.message}),s.dirty()):r.kind==="datetime"?ba(r).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:"datetime",message:r.message}),s.dirty()):r.kind==="date"?Qs.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:"date",message:r.message}),s.dirty()):r.kind==="time"?Xs(r).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_string,validation:"time",message:r.message}),s.dirty()):r.kind==="duration"?Vs.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"duration",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="ip"?Gs(e.data,r.version)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ip",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="jwt"?en(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"jwt",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="cidr"?tn(e.data,r.version)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cidr",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="base64"?Ys.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"base64",code:f.invalid_string,message:r.message}),s.dirty()):r.kind==="base64url"?Ks.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"base64url",code:f.invalid_string,message:r.message}),s.dirty()):V.assertNever(r);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(n=>e.test(n),{validation:t,code:f.invalid_string,...x.errToObj(s)})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...x.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...x.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...x.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...x.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...x.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...x.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...x.errToObj(t)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ve.create=a=>{var e;return new ve({checks:[],typeName:I.ZodString,coerce:(e=a?.coerce)!==null&&e!==void 0?e:!1,...N(a)})};function an(a,e){const t=(a.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=t>s?t:s,r=parseInt(a.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return r%o/Math.pow(10,n)}class Me extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){const r=this._getOrReturnCtx(e);return p(r,{code:f.invalid_type,expected:v.number,received:r.parsedType}),$}let s;const n=new ie;for(const r of this._def.checks)r.kind==="int"?V.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:f.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):r.kind==="multipleOf"?an(e.data,r.value)!==0&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),p(s,{code:f.not_finite,message:r.message}),n.dirty()):V.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,s,n){return new Me({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:x.toString(n)}]})}_addCheck(e){return new Me({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&V.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Me.create=a=>new Me({checks:[],typeName:I.ZodNumber,coerce:a?.coerce||!1,...N(a)});class je extends D{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==v.bigint)return this._getInvalidInput(e);let s;const n=new ie;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),p(s,{code:f.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):V.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return p(t,{code:f.invalid_type,expected:v.bigint,received:t.parsedType}),$}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,s,n){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:x.toString(n)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}je.create=a=>{var e;return new je({checks:[],typeName:I.ZodBigInt,coerce:(e=a?.coerce)!==null&&e!==void 0?e:!1,...N(a)})};class lt extends D{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==v.boolean){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.boolean,received:s.parsedType}),$}return ce(e.data)}}lt.create=a=>new lt({typeName:I.ZodBoolean,coerce:a?.coerce||!1,...N(a)});class We extends D{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){const r=this._getOrReturnCtx(e);return p(r,{code:f.invalid_type,expected:v.date,received:r.parsedType}),$}if(isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return p(r,{code:f.invalid_date}),$}const s=new ie;let n;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),s.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),s.dirty()):V.assertNever(r);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new We({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}We.create=a=>new We({checks:[],coerce:a?.coerce||!1,typeName:I.ZodDate,...N(a)});class $t extends D{_parse(e){if(this._getType(e)!==v.symbol){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.symbol,received:s.parsedType}),$}return ce(e.data)}}$t.create=a=>new $t({typeName:I.ZodSymbol,...N(a)});class ct extends D{_parse(e){if(this._getType(e)!==v.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.undefined,received:s.parsedType}),$}return ce(e.data)}}ct.create=a=>new ct({typeName:I.ZodUndefined,...N(a)});class ut extends D{_parse(e){if(this._getType(e)!==v.null){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.null,received:s.parsedType}),$}return ce(e.data)}}ut.create=a=>new ut({typeName:I.ZodNull,...N(a)});class Ke extends D{constructor(){super(...arguments),this._any=!0}_parse(e){return ce(e.data)}}Ke.create=a=>new Ke({typeName:I.ZodAny,...N(a)});class Ve extends D{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ce(e.data)}}Ve.create=a=>new Ve({typeName:I.ZodUnknown,...N(a)});class Ae extends D{_parse(e){const t=this._getOrReturnCtx(e);return p(t,{code:f.invalid_type,expected:v.never,received:t.parsedType}),$}}Ae.create=a=>new Ae({typeName:I.ZodNever,...N(a)});class At extends D{_parse(e){if(this._getType(e)!==v.undefined){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.void,received:s.parsedType}),$}return ce(e.data)}}At.create=a=>new At({typeName:I.ZodVoid,...N(a)});class ge extends D{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==v.array)return p(t,{code:f.invalid_type,expected:v.array,received:t.parsedType}),$;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(o||i)&&(p(t,{code:o?f.too_big:f.too_small,minimum:i?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(p(t,{code:f.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(p(t,{code:f.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>n.type._parseAsync(new Ce(t,o,t.path,i)))).then(o=>ie.mergeArray(s,o));const r=[...t.data].map((o,i)=>n.type._parseSync(new Ce(t,o,t.path,i)));return ie.mergeArray(s,r)}get element(){return this._def.type}min(e,t){return new ge({...this._def,minLength:{value:e,message:x.toString(t)}})}max(e,t){return new ge({...this._def,maxLength:{value:e,message:x.toString(t)}})}length(e,t){return new ge({...this._def,exactLength:{value:e,message:x.toString(t)}})}nonempty(e){return this.min(1,e)}}ge.create=(a,e)=>new ge({type:a,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...N(e)});function Fe(a){if(a instanceof Y){const e={};for(const t in a.shape){const s=a.shape[t];e[t]=Te.create(Fe(s))}return new Y({...a._def,shape:()=>e})}else return a instanceof ge?new ge({...a._def,type:Fe(a.element)}):a instanceof Te?Te.create(Fe(a.unwrap())):a instanceof qe?qe.create(Fe(a.unwrap())):a instanceof Se?Se.create(a.items.map(e=>Fe(e))):a}class Y extends D{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=V.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==v.object){const d=this._getOrReturnCtx(e);return p(d,{code:f.invalid_type,expected:v.object,received:d.parsedType}),$}const{status:s,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Ae&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||i.push(d);const u=[];for(const d of o){const c=r[d],C=n.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new Ce(n,C,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof Ae){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of i)u.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(d==="strict")i.length>0&&(p(n,{code:f.unrecognized_keys,keys:i}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of i){const C=n.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new Ce(n,C,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of u){const C=await c.key,M=await c.value;d.push({key:C,value:M,alwaysSet:c.alwaysSet})}return d}).then(d=>ie.mergeObjectSync(s,d)):ie.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new Y({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var n,r,o,i;const u=(o=(r=(n=this._def).errorMap)===null||r===void 0?void 0:r.call(n,t,s).message)!==null&&o!==void 0?o:s.defaultError;return t.code==="unrecognized_keys"?{message:(i=x.errToObj(e).message)!==null&&i!==void 0?i:u}:{message:u}}}:{}})}strip(){return new Y({...this._def,unknownKeys:"strip"})}passthrough(){return new Y({...this._def,unknownKeys:"passthrough"})}extend(e){return new Y({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Y({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Y({...this._def,catchall:e})}pick(e){const t={};return V.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new Y({...this._def,shape:()=>t})}omit(e){const t={};return V.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new Y({...this._def,shape:()=>t})}deepPartial(){return Fe(this)}partial(e){const t={};return V.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?t[s]=n:t[s]=n.optional()}),new Y({...this._def,shape:()=>t})}required(e){const t={};return V.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof Te;)r=r._def.innerType;t[s]=r}}),new Y({...this._def,shape:()=>t})}keyof(){return xa(V.objectKeys(this.shape))}}Y.create=(a,e)=>new Y({shape:()=>a,unknownKeys:"strip",catchall:Ae.create(),typeName:I.ZodObject,...N(e)});Y.strictCreate=(a,e)=>new Y({shape:()=>a,unknownKeys:"strict",catchall:Ae.create(),typeName:I.ZodObject,...N(e)});Y.lazycreate=(a,e)=>new Y({shape:a,unknownKeys:"strip",catchall:Ae.create(),typeName:I.ZodObject,...N(e)});class dt extends D{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function n(r){for(const i of r)if(i.result.status==="valid")return i.result;for(const i of r)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const o=r.map(i=>new he(i.ctx.common.issues));return p(t,{code:f.invalid_union,unionErrors:o}),$}if(t.common.async)return Promise.all(s.map(async r=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let r;const o=[];for(const u of s){const d={...t,common:{...t.common,issues:[]},parent:null},c=u._parseSync({data:t.data,path:t.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!r&&(r={result:c,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const i=o.map(u=>new he(u));return p(t,{code:f.invalid_union,unionErrors:i}),$}}get options(){return this._def.options}}dt.create=(a,e)=>new dt({options:a,typeName:I.ZodUnion,...N(e)});const Ee=a=>a instanceof pt?Ee(a.schema):a instanceof _e?Ee(a.innerType()):a instanceof mt?[a.value]:a instanceof De?a.options:a instanceof vt?V.objectValues(a.enum):a instanceof yt?Ee(a._def.innerType):a instanceof ct?[void 0]:a instanceof ut?[null]:a instanceof Te?[void 0,...Ee(a.unwrap())]:a instanceof qe?[null,...Ee(a.unwrap())]:a instanceof Kt||a instanceof _t?Ee(a.unwrap()):a instanceof gt?Ee(a._def.innerType):[];class jt extends D{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.object)return p(t,{code:f.invalid_type,expected:v.object,received:t.parsedType}),$;const s=this.discriminator,n=t.data[s],r=this.optionsMap.get(n);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const n=new Map;for(const r of t){const o=Ee(r.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new jt({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...N(s)})}}function Ht(a,e){const t=Ie(a),s=Ie(e);if(a===e)return{valid:!0,data:a};if(t===v.object&&s===v.object){const n=V.objectKeys(e),r=V.objectKeys(a).filter(i=>n.indexOf(i)!==-1),o={...a,...e};for(const i of r){const u=Ht(a[i],e[i]);if(!u.valid)return{valid:!1};o[i]=u.data}return{valid:!0,data:o}}else if(t===v.array&&s===v.array){if(a.length!==e.length)return{valid:!1};const n=[];for(let r=0;r<a.length;r++){const o=a[r],i=e[r],u=Ht(o,i);if(!u.valid)return{valid:!1};n.push(u.data)}return{valid:!0,data:n}}else return t===v.date&&s===v.date&&+a==+e?{valid:!0,data:a}:{valid:!1}}class ft extends D{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(r,o)=>{if(Bt(r)||Bt(o))return $;const i=Ht(r.value,o.value);return i.valid?((Ft(r)||Ft(o))&&t.dirty(),{status:t.value,value:i.data}):(p(s,{code:f.invalid_intersection_types}),$)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([r,o])=>n(r,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ft.create=(a,e,t)=>new ft({left:a,right:e,typeName:I.ZodIntersection,...N(t)});class Se extends D{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==v.array)return p(s,{code:f.invalid_type,expected:v.array,received:s.parsedType}),$;if(s.data.length<this._def.items.length)return p(s,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$;!this._def.rest&&s.data.length>this._def.items.length&&(p(s,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...s.data].map((o,i)=>{const u=this._def.items[i]||this._def.rest;return u?u._parse(new Ce(s,o,s.path,i)):null}).filter(o=>!!o);return s.common.async?Promise.all(r).then(o=>ie.mergeArray(t,o)):ie.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Se({...this._def,rest:e})}}Se.create=(a,e)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Se({items:a,typeName:I.ZodTuple,rest:null,...N(e)})};class ht extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==v.object)return p(s,{code:f.invalid_type,expected:v.object,received:s.parsedType}),$;const n=[],r=this._def.keyType,o=this._def.valueType;for(const i in s.data)n.push({key:r._parse(new Ce(s,i,s.path,i)),value:o._parse(new Ce(s,s.data[i],s.path,i)),alwaysSet:i in s.data});return s.common.async?ie.mergeObjectAsync(t,n):ie.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof D?new ht({keyType:e,valueType:t,typeName:I.ZodRecord,...N(s)}):new ht({keyType:ve.create(),valueType:e,typeName:I.ZodRecord,...N(t)})}}class Ot extends D{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==v.map)return p(s,{code:f.invalid_type,expected:v.map,received:s.parsedType}),$;const n=this._def.keyType,r=this._def.valueType,o=[...s.data.entries()].map(([i,u],d)=>({key:n._parse(new Ce(s,i,s.path,[d,"key"])),value:r._parse(new Ce(s,u,s.path,[d,"value"]))}));if(s.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,c=await u.value;if(d.status==="aborted"||c.status==="aborted")return $;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),i.set(d.value,c.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const u of o){const d=u.key,c=u.value;if(d.status==="aborted"||c.status==="aborted")return $;(d.status==="dirty"||c.status==="dirty")&&t.dirty(),i.set(d.value,c.value)}return{status:t.value,value:i}}}}Ot.create=(a,e,t)=>new Ot({valueType:e,keyType:a,typeName:I.ZodMap,...N(t)});class Be extends D{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==v.set)return p(s,{code:f.invalid_type,expected:v.set,received:s.parsedType}),$;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(p(s,{code:f.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(p(s,{code:f.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const r=this._def.valueType;function o(u){const d=new Set;for(const c of u){if(c.status==="aborted")return $;c.status==="dirty"&&t.dirty(),d.add(c.value)}return{status:t.value,value:d}}const i=[...s.data.values()].map((u,d)=>r._parse(new Ce(s,u,s.path,d)));return s.common.async?Promise.all(i).then(u=>o(u)):o(i)}min(e,t){return new Be({...this._def,minSize:{value:e,message:x.toString(t)}})}max(e,t){return new Be({...this._def,maxSize:{value:e,message:x.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Be.create=(a,e)=>new Be({valueType:a,minSize:null,maxSize:null,typeName:I.ZodSet,...N(e)});class Je extends D{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.function)return p(t,{code:f.invalid_type,expected:v.function,received:t.parsedType}),$;function s(i,u){return Et({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rt(),Ye].filter(d=>!!d),issueData:{code:f.invalid_arguments,argumentsError:u}})}function n(i,u){return Et({data:i,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rt(),Ye].filter(d=>!!d),issueData:{code:f.invalid_return_type,returnTypeError:u}})}const r={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Qe){const i=this;return ce(async function(...u){const d=new he([]),c=await i._def.args.parseAsync(u,r).catch(A=>{throw d.addIssue(s(u,A)),d}),C=await Reflect.apply(o,this,c);return await i._def.returns._def.type.parseAsync(C,r).catch(A=>{throw d.addIssue(n(C,A)),d})})}else{const i=this;return ce(function(...u){const d=i._def.args.safeParse(u,r);if(!d.success)throw new he([s(u,d.error)]);const c=Reflect.apply(o,this,d.data),C=i._def.returns.safeParse(c,r);if(!C.success)throw new he([n(c,C.error)]);return C.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Je({...this._def,args:Se.create(e).rest(Ve.create())})}returns(e){return new Je({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new Je({args:e||Se.create([]).rest(Ve.create()),returns:t||Ve.create(),typeName:I.ZodFunction,...N(s)})}}class pt extends D{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}pt.create=(a,e)=>new pt({getter:a,typeName:I.ZodLazy,...N(e)});class mt extends D{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:f.invalid_literal,expected:this._def.value}),$}return{status:"valid",value:e.data}}get value(){return this._def.value}}mt.create=(a,e)=>new mt({value:a,typeName:I.ZodLiteral,...N(e)});function xa(a,e){return new De({values:a,typeName:I.ZodEnum,...N(e)})}class De extends D{constructor(){super(...arguments),tt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return p(t,{expected:V.joinValues(s),received:t.parsedType,code:f.invalid_type}),$}if(It(this,tt)||ya(this,tt,new Set(this._def.values)),!It(this,tt).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return p(t,{received:t.data,code:f.invalid_enum_value,options:s}),$}return ce(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return De.create(e,{...this._def,...t})}exclude(e,t=this._def){return De.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}tt=new WeakMap;De.create=xa;class vt extends D{constructor(){super(...arguments),at.set(this,void 0)}_parse(e){const t=V.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==v.string&&s.parsedType!==v.number){const n=V.objectValues(t);return p(s,{expected:V.joinValues(n),received:s.parsedType,code:f.invalid_type}),$}if(It(this,at)||ya(this,at,new Set(V.getValidEnumValues(this._def.values))),!It(this,at).has(e.data)){const n=V.objectValues(t);return p(s,{received:s.data,code:f.invalid_enum_value,options:n}),$}return ce(e.data)}get enum(){return this._def.values}}at=new WeakMap;vt.create=(a,e)=>new vt({values:a,typeName:I.ZodNativeEnum,...N(e)});class Qe extends D{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.promise&&t.common.async===!1)return p(t,{code:f.invalid_type,expected:v.promise,received:t.parsedType}),$;const s=t.parsedType===v.promise?t.data:Promise.resolve(t.data);return ce(s.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Qe.create=(a,e)=>new Qe({type:a,typeName:I.ZodPromise,...N(e)});class _e extends D{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null,r={addIssue:o=>{p(s,o),o.fatal?t.abort():t.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),n.type==="preprocess"){const o=n.transform(s.data,r);if(s.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return $;const u=await this._def.schema._parseAsync({data:i,path:s.path,parent:s});return u.status==="aborted"?$:u.status==="dirty"||t.value==="dirty"?He(u.value):u});{if(t.value==="aborted")return $;const i=this._def.schema._parseSync({data:o,path:s.path,parent:s});return i.status==="aborted"?$:i.status==="dirty"||t.value==="dirty"?He(i.value):i}}if(n.type==="refinement"){const o=i=>{const u=n.refinement(i,r);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?$:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>i.status==="aborted"?$:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Le(o))return o;const i=n.transform(o.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Le(o)?Promise.resolve(n.transform(o.value,r)).then(i=>({status:t.value,value:i})):o);V.assertNever(n)}}_e.create=(a,e,t)=>new _e({schema:a,typeName:I.ZodEffects,effect:e,...N(t)});_e.createWithPreprocess=(a,e,t)=>new _e({schema:e,effect:{type:"preprocess",transform:a},typeName:I.ZodEffects,...N(t)});class Te extends D{_parse(e){return this._getType(e)===v.undefined?ce(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(a,e)=>new Te({innerType:a,typeName:I.ZodOptional,...N(e)});class qe extends D{_parse(e){return this._getType(e)===v.null?ce(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qe.create=(a,e)=>new qe({innerType:a,typeName:I.ZodNullable,...N(e)});class yt extends D{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===v.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yt.create=(a,e)=>new yt({innerType:a,typeName:I.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...N(e)});class gt extends D{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return ot(n)?n.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new he(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new he(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}gt.create=(a,e)=>new gt({innerType:a,typeName:I.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...N(e)});class Nt extends D{_parse(e){if(this._getType(e)!==v.nan){const s=this._getOrReturnCtx(e);return p(s,{code:f.invalid_type,expected:v.nan,received:s.parsedType}),$}return{status:"valid",value:e.data}}}Nt.create=a=>new Nt({typeName:I.ZodNaN,...N(a)});const sn=Symbol("zod_brand");class Kt extends D{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class xt extends D{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?$:r.status==="dirty"?(t.dirty(),He(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?$:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,t){return new xt({in:e,out:t,typeName:I.ZodPipeline})}}class _t extends D{_parse(e){const t=this._def.innerType._parse(e),s=n=>(Le(n)&&(n.value=Object.freeze(n.value)),n);return ot(t)?t.then(n=>s(n)):s(t)}unwrap(){return this._def.innerType}}_t.create=(a,e)=>new _t({innerType:a,typeName:I.ZodReadonly,...N(e)});function ka(a,e={},t){return a?Ke.create().superRefine((s,n)=>{var r,o;if(!a(s)){const i=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,u=(o=(r=i.fatal)!==null&&r!==void 0?r:t)!==null&&o!==void 0?o:!0,d=typeof i=="string"?{message:i}:i;n.addIssue({code:"custom",...d,fatal:u})}}):Ke.create()}const nn={object:Y.lazycreate};var I;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(I||(I={}));const rn=(a,e={message:`Input not instance of ${a.name}`})=>ka(t=>t instanceof a,e),wa=ve.create,Ta=Me.create,on=Nt.create,ln=je.create,Ca=lt.create,cn=We.create,un=$t.create,dn=ct.create,fn=ut.create,hn=Ke.create,pn=Ve.create,mn=Ae.create,vn=At.create,yn=ge.create,gn=Y.create,_n=Y.strictCreate,bn=dt.create,xn=jt.create,kn=ft.create,wn=Se.create,Tn=ht.create,Cn=Ot.create,Sn=Be.create,Rn=Je.create,En=pt.create,In=mt.create,$n=De.create,An=vt.create,On=Qe.create,ra=_e.create,Nn=Te.create,Zn=qe.create,Mn=_e.createWithPreprocess,jn=xt.create,Dn=()=>wa().optional(),qn=()=>Ta().optional(),Un=()=>Ca().optional(),zn={string:(a=>ve.create({...a,coerce:!0})),number:(a=>Me.create({...a,coerce:!0})),boolean:(a=>lt.create({...a,coerce:!0})),bigint:(a=>je.create({...a,coerce:!0})),date:(a=>We.create({...a,coerce:!0}))},Pn=$;var st=Object.freeze({__proto__:null,defaultErrorMap:Ye,setErrorMap:Zs,getErrorMap:Rt,makeIssue:Et,EMPTY_PATH:Ms,addIssueToContext:p,ParseStatus:ie,INVALID:$,DIRTY:He,OK:ce,isAborted:Bt,isDirty:Ft,isValid:Le,isAsync:ot,get util(){return V},get objectUtil(){return Wt},ZodParsedType:v,getParsedType:Ie,ZodType:D,datetimeRegex:ba,ZodString:ve,ZodNumber:Me,ZodBigInt:je,ZodBoolean:lt,ZodDate:We,ZodSymbol:$t,ZodUndefined:ct,ZodNull:ut,ZodAny:Ke,ZodUnknown:Ve,ZodNever:Ae,ZodVoid:At,ZodArray:ge,ZodObject:Y,ZodUnion:dt,ZodDiscriminatedUnion:jt,ZodIntersection:ft,ZodTuple:Se,ZodRecord:ht,ZodMap:Ot,ZodSet:Be,ZodFunction:Je,ZodLazy:pt,ZodLiteral:mt,ZodEnum:De,ZodNativeEnum:vt,ZodPromise:Qe,ZodEffects:_e,ZodTransformer:_e,ZodOptional:Te,ZodNullable:qe,ZodDefault:yt,ZodCatch:gt,ZodNaN:Nt,BRAND:sn,ZodBranded:Kt,ZodPipeline:xt,ZodReadonly:_t,custom:ka,Schema:D,ZodSchema:D,late:nn,get ZodFirstPartyTypeKind(){return I},coerce:zn,any:hn,array:yn,bigint:ln,boolean:Ca,date:cn,discriminatedUnion:xn,effect:ra,enum:$n,function:Rn,instanceof:rn,intersection:kn,lazy:En,literal:In,map:Cn,nan:on,nativeEnum:An,never:mn,null:fn,nullable:Zn,number:Ta,object:gn,oboolean:Un,onumber:qn,optional:Nn,ostring:Dn,pipeline:jn,preprocess:Mn,promise:On,record:Tn,set:Sn,strictObject:_n,string:wa,symbol:un,transformer:ra,tuple:wn,undefined:dn,union:bn,unknown:pn,void:vn,NEVER:Pn,ZodIssueCode:f,quotelessJson:Ns,ZodError:he});const Vn={"page-view":st.object({to:st.string(),from:st.string(),hostname:st.string()})},Sa=Object.keys(Vn);st.enum(Sa);const Ln=(a,e)=>{async function t(s,...[n]){if(!Sa.includes(s))throw new Error("[Analytics]: Invalid event submission");const r=e();await fetch(`${a}/analytics/send`,{method:"POST",headers:{"content-type":"application/json",...r?{authorization:`Bearer ${r}`}:{}},body:JSON.stringify({event:s,data:n})})}return{capture:t}},Wn=Ln("https://api.scalar.com",()=>null);function Bn(){const{layout:a}=Xe();if(!(!la().value.telemetry||a==="modal"))return Wn}const Fn=a=>{const e={invalidParams:new Set,hasBlockingErrors:!1};return a&&(a.parameters?.path?.forEach(t=>{t.enabled&&t.value.trim()===""&&(e.invalidParams.add(t.key),e.hasBlockingErrors=!0)}),["query","headers","cookies"].forEach(t=>{a.parameters?.[t]?.forEach(s=>{s.required&&s.value===""&&e.invalidParams.add(s.key)})})),e},Hn=5*1e3,Jn=60*1e3,Yn=()=>{const{toast:a}=Jt(),e=Ue(),t=ze(),{activeCollection:s,activeWorkspace:n}=e,{collectionMutators:r}=t,o=c=>a(`[useOpenApiWatcher] Changes to the ${c} were not applied`,"error"),i=c=>{c.path[0]==="info"||c.path[0]==="security"?Ba(c,e,t)||o("collection"):c.path[0]==="components"&&c.path[1]==="securitySchemes"?Fa(c,e,t)||o("securitySchemes"):c.path[0]==="servers"?Ha(c,e,t)||o("servers"):c.path[0]==="tags"?Ja(c,e,t)||o("tags"):c.path[0]==="paths"&&(Ya(c,e,t)||o("requests"))},{pause:u,resume:d}=za(async()=>{const c=s.value?.documentUrl;if(!c)return;const C=Dt[c];try{const M=await Pa(c,n.value?.proxyUrl,void 0,!1),A=Va(M);if(r.edit(s.value.uid,"watchModeStatus","WATCHING"),C?.hash)if(C.hash&&C.hash!==A){const{schema:E}=await Qt(M),w=La(C.schema,E),z=Wa(w);try{z.forEach(i),Dt[c]={hash:A,schema:E}}catch(q){console.error("[useOpenApiWatcher] Error:",q)}}else console.log("[useOpenApiWatcher] No changes detected yet");else{const{schema:E}=await Qt(M);E&&(Dt[c]={hash:A,schema:E})}}catch(M){console.error("[useOpenApiWatcher] Error:",M),console.info("[useOpenApiWatcher] Pausing watcher for 60 seconds"),u(),r.edit(s.value.uid,"watchModeStatus","ERROR"),a("[useOpenApiWatcher] Unable to fetch the spec file, paused the watcher for 60 seconds","error"),setTimeout(()=>{console.info("[useOpenApiWatcher] Resuming watcher"),d()},Jn)}},Hn);ke([()=>s.value?.documentUrl,()=>s.value?.watchMode],([c,C])=>{c&&C?(console.info(`[useOpenApiWatcher] Watching ${c} `),d()):s.value&&(u(),r.edit(s.value.uid,"watchModeStatus","IDLE"))},{immediate:!0})},Kn=`         ,\\
         \\\\\\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\_
\\_| )_-\\ \\_-\`
   \`-----\` \`--\``,Qn=`         __
        // \\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\ 
\\_| // /  /  /
   /  /    `,Xn={class:"m-0 flex items-center gap-1.5 font-medium whitespace-nowrap"},Gn={class:"flex h-4 w-4 items-center justify-center"},er=Oe({__name:"EnvironmentSelector",setup(a){const{activeCollection:e,activeWorkspace:t,activeEnvironment:s}=Ue(),{collectionMutators:n}=ze(),{layout:r}=Xe(),o=Ge(),i=A=>{e.value&&t.value&&(n.edit(e.value.uid,"x-scalar-active-environment",A),t.value.activeEnvironmentId=A)},u=()=>o.push({name:"environment.default",params:{[le.Workspace]:t.value?.uid}}),d=X(()=>{const{value:A}=s,{value:E}=e;return A?.name||E?.["x-scalar-active-environment"]||"No Environment"}),c=X(()=>{const{value:A}=e,E=A?.["x-scalar-environments"];return E?Object.entries(E).map(([w,z])=>({...z,uid:w,name:w})):[]}),C=()=>{const A=c.value;if(A.length>0){const E=A[A.length-1];E?.uid&&i(E.uid)}};ke(c,(A,E)=>{A.length>E.length&&C()});const M=A=>{const E=A["x-scalar-active-environment"];E&&e.value&&t.value?(e.value["x-scalar-active-environment"]=E,t.value.activeEnvironmentId=E):t.value&&(t.value.activeEnvironmentId="")};return ke(e,A=>A&&M(A)),bt(()=>{e.value&&M(e.value)}),(A,E)=>(_(),j(l(Vt),{teleport:""},{items:R(()=>[(_(!0),ee($e,null,it(c.value,w=>(_(),j(l(Pe),{key:w.uid,class:"group/item flex items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:te(z=>i(w.uid),["stop"])},{default:R(()=>[T(l(Pt),{selected:l(e)?.["x-scalar-active-environment"]===w.uid},null,8,["selected"]),we(" "+ye(w.name),1)]),_:2},1032,["onClick"]))),128)),T(l(Pe),{class:"group/item flex items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:E[0]||(E[0]=te(w=>i(""),["stop"]))},{default:R(()=>[T(l(Pt),{selected:l(s)?.uid===""&&l(e)?.["x-scalar-active-environment"]===""||l(s)?.name==="No Environment"},null,8,["selected"]),E[1]||(E[1]=we(" No Environment ",-1))]),_:1}),T(l(ca)),l(r)!=="modal"?(_(),j(l(Pe),{key:0,class:"flex items-center gap-1.5",onClick:u},{default:R(()=>[g("div",Gn,[T(l(G),{icon:"Brackets",size:"sm"})]),E[2]||(E[2]=g("span",{class:"leading-none"},"Manage Environments",-1))]),_:1})):W("",!0)]),default:R(()=>[T(l(pe),{class:"text-c-1 hover:bg-b-2 line-clamp-1 h-auto w-fit justify-start px-1.5 py-1.5 font-normal",variant:"ghost"},{default:R(()=>[g("h2",Xn,ye(d.value),1)]),_:1})]),_:1}))}});function tr(){const a=Ge(),{activeWorkspace:e,activeWorkspaceRequests:t,activeWorkspaceCollections:s}=Ue(),{requests:n,tags:r}=ze(),o=se([]),i=se([]),u=se(0),d=se(""),c=se(null),C=se([]),M=new Ka(o.value,{keys:["title","description","body"]}),A=()=>{d.value="",u.value=0,i.value=[],c.value instanceof HTMLInputElement&&c.value.blur()},E=b=>{o.value=b.filter(k=>!St(k)).filter(k=>!s.value?.find(B=>B.requests.includes(k.uid))?.tags.map(B=>r[B]).filter(Ct).filter(B=>k.tags?.includes(B.name)).filter(B=>St(B)).length).map(k=>({id:k.uid,title:k.summary??k.method,description:k.description??"",httpVerb:k.method,path:k.path,link:a?.resolve({name:"request",params:{[le.Request]:k.uid,[le.Workspace]:e.value?.uid}})?.href})),M.setCollection(o.value)},w=()=>{u.value=0,i.value=M.search(d.value)};ke(d,b=>{b.length?w():i.value=[]});const z=b=>{const k=b==="up"?-1:1,B=y.value.length;u.value=(u.value+k+B)%B,ua(()=>{const oe=C.value[u.value];oe instanceof HTMLElement&&oe.scrollIntoView({behavior:"smooth",block:"center"})})},q=()=>{if(u.value>=0){const b=y.value[u.value];b&&P(b)}},Z=X(()=>t.value.map(b=>n[b]).filter(Ct));ke(t,()=>{E(Z.value)},{immediate:!0});const P=b=>{a.push(b.item.id),A()},y=X(()=>d.value.length===0?o.value.map(b=>({item:b})):i.value);return{searchText:d,searchResultsWithPlaceholderResults:y,selectedSearchResult:u,onSearchResultClick:P,fuseSearch:w,searchInputRef:c,searchResultRefs:C,navigateSearchResults:z,selectSearchResult:q,populateFuseDataArray:E}}function ar(a,{collections:e,collectionMutators:t,tags:s,tagMutators:n,workspaceMutators:r}){const{layout:o}=Xe(),i=(u,d)=>{u.type==="collection"?t.edit(u.uid,"children",d):u.type==="tag"&&n.edit(u.uid,"children",d)};return{handleDragEnd:(u,d)=>{if(!u||!d)return;const{id:c,parentId:C}=u,{id:M,parentId:A,offset:E}=d;if(C?e[C]?t.edit(C,"children",e[C].children.filter(w=>w!==c)):s[C]&&n.edit(C,"children",s[C].children.filter(w=>w!==c)):r.edit(a.value?.uid,"collections",a.value?.collections.filter(w=>w!==c)??[]),E===2){const w=e[M]||s[M];w&&i(w,[...w.children??[],c])}else if(A){const w=e[A]||s[A];if(!w)return;const z=[...w.children??[]],q=z.findIndex(Z=>M===Z)??0;z.splice(q+E,0,c),i(w,z)}else{const w=[...a.value?.collections??[]],z=w.findIndex(q=>M===q)??0;w.splice(z+E,0,c),r.edit(a.value?.uid,"collections",w)}},isDroppable:(u,d)=>!(o==="modal"||!e[u.id]&&d.offset!==2||e[u.id]&&e[d.id]?.info?.title==="Drafts")}}const sr={class:"grid grid-cols-[auto_1fr] gap-2"},nr={class:"flex aspect-square"},rr=Oe({__name:"EditSidebarListCollection",props:{name:{},icon:{}},emits:["close","edit"],setup(a,{emit:e}){const t=a,s=e,n=se(t.name),r=se(t.icon);return(o,i)=>(_(),j(ws,{onCancel:i[2]||(i[2]=u=>s("close")),onSubmit:i[3]||(i[3]=u=>s("edit",n.value,r.value))},{default:R(()=>[g("div",sr,[g("div",nr,[T(Ts,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=u=>r.value=u),placement:"bottom-start"},{default:R(()=>[T(l(pe),{class:"aspect-square h-auto px-0",variant:"outlined"},{default:R(()=>[T(l(da),{class:"text-c-2 size-4",src:r.value},null,8,["src"])]),_:1})]),_:1},8,["modelValue"])]),T(l(Qa),{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=u=>n.value=u),autofocus:"",class:"flex-1"},null,8,["modelValue"])])]),_:1}))}}),ir=Oe({__name:"RequestSidebarItemMenu",props:{menuItem:{}},emits:["closeMenu","toggleWatchMode","clearDrafts"],setup(a,{emit:e}){const t=a,s=e,{replace:n}=Ge(),{activeRouterParams:r,activeWorkspaceCollections:o,activeWorkspaceRequests:i}=Ue(),{events:u,requestMutators:d}=ze(),c=nt(),C=nt(),M=nt(),A=()=>u.commandPalette.emit({commandName:"Add Example",metaData:{itemUid:t.menuItem.item?.entity.uid}}),E=(b,k)=>{t.menuItem.item?.edit(b,k),c.hide()},w=()=>{if(t.menuItem.item?.delete(),!i.value.length){const{request:b}=fa(),k=o.value.find(B=>B.info?.title==="Drafts");k&&(d.add(b,k.uid),n({name:"request",params:{[le.Request]:b.uid}}))}if(r.value[le.Request]===t.menuItem.item?.entity.uid&&n({name:"request",params:{[le.Request]:"default"}}),r.value[le.Examples]===t.menuItem.item?.entity.uid&&n({name:"request",params:{[le.Request]:"default"}}),o.value[0]){const b=o.value[0].requests[0];n({name:"request",params:{[le.Request]:b}})}C.hide()},z=se(null);ke([()=>t.menuItem.open,z],([b])=>{b&&z.value?.$parent?.$el&&z.value.$parent.$el.focus()});const q=()=>t.menuItem.open&&s("closeMenu");bt(()=>window.addEventListener("click",q)),Yt(()=>window.removeEventListener("click",q));const Z=()=>{s("toggleWatchMode",t.menuItem.item)},P=()=>{s("clearDrafts"),M.hide()},y=X(()=>t.menuItem.item?.title==="Drafts");return(b,k)=>(_(),ee($e,null,[b.menuItem.targetRef&&b.menuItem.open?(_(),j(l(Ga),{key:0,placement:"right-start",target:b.menuItem.targetRef,teleport:""},{floating:R(()=>[T(l(Xa),{onKeydown:k[3]||(k[3]=wt(B=>b.$emit("closeMenu"),["escape"]))},{default:R(()=>[b.menuItem.item?.entity.type==="request"?(_(),j(l(et),{key:0,class:"flex items-center gap-2",onClick:A},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Example",size:"md",thickness:"1.5"}),k[8]||(k[8]=g("span",null,"Add Example",-1))]),_:1})):W("",!0),y.value?W("",!0):(_(),j(l(et),{key:1,ref_key:"menuRef",ref:z,class:"flex items-center gap-2",onClick:k[0]||(k[0]=B=>l(c).show())},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),g("span",null,[b.menuItem.item?.entity.type==="collection"?(_(),ee($e,{key:0},[we(" Edit ")],64)):(_(),ee($e,{key:1},[we(" Rename ")],64))])]),_:1},512)),b.menuItem.item?.documentUrl?(_(),j(l(et),{key:2,ref_key:"menuRef",ref:z,class:"flex items-center gap-2",onClick:Z},{default:R(()=>[T(l(G),{class:"inline-flex",icon:b.menuItem.item?.watchMode?"Unwatch":"Watch",size:"md",thickness:"1.5"},null,8,["icon"]),g("span",null,ye(b.menuItem.item?.watchMode?"Disable Watch Mode":"Enable Watch Mode"),1)]),_:1},512)):W("",!0),y.value?W("",!0):(_(),j(l(et),{key:3,class:"flex items-center gap-2",onClick:k[1]||(k[1]=B=>l(C).show())},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),k[9]||(k[9]=g("span",null,"Delete",-1))]),_:1})),y.value?(_(),j(l(et),{key:4,class:"flex items-center gap-2",onClick:k[2]||(k[2]=B=>l(M).show())},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),k[10]||(k[10]=g("span",null,"Clear Drafts",-1))]),_:1})):W("",!0)]),_:1})]),_:1},8,["target"])):W("",!0),T(l(rt),{size:"xxs",state:l(C),title:`Delete ${b.menuItem.item?.resourceTitle}`},{default:R(()=>[T(Lt,{variableName:b.menuItem.item?.title??"",warningMessage:b.menuItem.item?.warning,onClose:k[4]||(k[4]=B=>l(C).hide()),onDelete:w},null,8,["variableName","warningMessage"])]),_:1},8,["state","title"]),T(l(rt),{size:"xxs",state:l(c),title:`Edit ${b.menuItem.item?.resourceTitle}`},{default:R(()=>[b.menuItem.item?.resourceTitle==="Collection"?(_(),j(rr,{key:0,icon:b.menuItem.item?.icon||"interface-content-folder",name:b.menuItem.item?.title,onClose:k[5]||(k[5]=B=>l(c).hide()),onEdit:E},null,8,["icon","name"])):(_(),j(ma,{key:1,name:b.menuItem.item?.title??"",onClose:k[6]||(k[6]=B=>l(c).hide()),onEdit:E},null,8,["name"]))]),_:1},8,["state","title"]),T(l(rt),{size:"xxs",state:l(M),title:"Clear Drafts"},{default:R(()=>[T(Lt,{variableName:"All Drafts",warningMessage:"This action will clear all drafts. This cannot be undone.",onClose:k[7]||(k[7]=B=>l(M).hide()),onDelete:P})]),_:1},8,["state"])],64))}}),or=Mt(ir,[["__scopeId","data-v-01a1ab71"]]),lr=(a,e,t)=>{const s=a.find(i=>i.info?.title==="Drafts"),n=e.length===1;if(!e[0])return!1;const r=s?.requests.includes(e[0]);if(!r)return!1;const o=t[s?.requests[0]??""]?.summary!=="My First Request";return n&&r&&!o},cr={class:"line-clamp-1 w-full pl-2 break-all"},ur={class:"flex flex-row items-center gap-1"},dr={class:"relative"},fr={class:"flex items-start"},hr={class:"flex flex-1 flex-row justify-between font-medium"},pr={class:"line-clamp-1 w-full text-left break-all"},mr={class:"relative flex h-fit justify-end"},vr={class:"flex items-center justify-center",type:"button"},yr=["aria-expanded"],gr={class:"flex h-5 max-w-[14px] items-center justify-center"},_r={class:"flex flex-1 flex-row justify-between"},br={class:"line-clamp-1 w-full text-left font-medium break-all"},xr={class:"relative flex h-fit justify-end"},kr={class:"flex items-center justify-center",type:"button"},wr={key:3},zt="hover:bg-sidebar-b-active indent-padding-left",Tr=Oe({__name:"RequestSidebarItem",props:{isDraggable:{type:Boolean,default:!1},isDroppable:{type:[Boolean,Function],default:!1},parentUids:{},uid:{},menuItem:{}},emits:["onDragEnd","newTab","openMenu"],setup(a,{emit:e}){es(m=>({"0bed2d4e":k.value,"57ee1db0":B.value}));const t=e,{activeCollection:s,activeRequest:n,activeRouterParams:r,activeWorkspace:o}=Ue(),{collections:i,tags:u,requests:d,requestExamples:c,collectionMutators:C,tagMutators:M,requestMutators:A,requestExampleMutators:E,events:w}=ze(),z=Ge(),{collapsedSidebarFolders:q,toggleSidebarFolder:Z}=Zt(),{layout:P}=Xe(),y=X(()=>{const m=i[a.uid],h=u[a.uid],J=d[a.uid],O=c[a.uid];return m?{title:m.info?.title||"Untitled Collection",entity:m,resourceTitle:"Collection",children:m.children,icon:m["x-scalar-icon"],documentUrl:m.documentUrl,watchMode:m.watchMode,to:m.uid&&m?.info?.title!=="Drafts"?{name:"collection",params:{[le.Workspace]:o.value?.uid,[le.Collection]:m.uid}}:void 0,warning:"This cannot be undone. You're about to delete the collection and all folders and requests inside it.",edit:(Q,Ze)=>{C.edit(m.uid,"info.title",Q),Ze&&C.edit(m.uid,"x-scalar-icon",Ze)},delete:()=>{o.value&&C.delete(m,o.value)}}:h?{title:h.name,entity:h,resourceTitle:"Tag",children:h.children,warning:"This cannot be undone. You're about to delete the tag and all requests inside it",edit:Q=>M.edit(h.uid,"name",Q),delete:()=>a.parentUids[0]&&M.delete(h,a.parentUids[0])}:J?{title:J.summary??J.path,to:{name:"request",params:{workspace:o.value?.uid,request:J.uid}},method:J.method,entity:J,resourceTitle:"Request",warning:"This cannot be undone. You're about to delete the request.",children:J.examples.slice(1),edit:Q=>A.edit(J.uid,"summary",Q),delete:()=>a.parentUids[0]&&A.delete(J,a.parentUids[0])}:O?.requestUid?{title:O.name,to:{name:"request.examples",params:{workspace:o.value?.uid,request:O.requestUid,examples:O.uid}},method:d[O.requestUid]?.method,entity:O,resourceTitle:"Example",warning:"This cannot be undone. You're about to delete the example from the request.",children:[],edit:Q=>E.edit(O.uid,"name",Q),delete:()=>E.delete(O)}:{title:"Unknown",entity:{uid:"",type:"unknown"},resourceTitle:"Unknown",children:[],edit:()=>null,delete:()=>null}}),b=X(()=>y.value.entity.type==="collection"&&y.value.title==="Drafts"),k=X(()=>a.parentUids.length?P==="modal"?`${(a.parentUids.length-1)*12}px`:`${a.parentUids.length*12}px`:"12px"),B=X(()=>a.parentUids.length?P==="modal"?`${(a.parentUids.length-1)*12}px`:`${a.parentUids.length*12}px`:"0px"),oe=X(()=>q[a.uid]||n.value?.uid===a.uid&&y.value.entity.examples.length>1),re=X(()=>typeof z.currentRoute.value.name=="string"&&z.currentRoute.value.name.startsWith("request")&&r.value[le.Request]==="default"&&n.value?.uid===a.uid),ne=se(null),de=X(()=>{let m=.5,h=.5;if(!ne.value)return{ceiling:m,floor:h};const{draggingItem:J}=ne.value;return!i[J?.id]&&y.value.entity.type==="collection"?(m=1,h=0):y.value.entity.type==="tag"&&(m=.8,h=.2),{ceiling:m,floor:h}}),K=(m,h)=>!(P==="modal"||c[h.id]||i[m.id]),U=(m,h)=>{m&&(ss(["default"]).some(J=>m[J])?t("newTab",h.title||"",h.entity.uid):h.to&&z.push(h.to),ua(()=>w.focusAddressBar.emit()))};function H(m){const h=a.parentUids[0]?i[a.parentUids[0]]?.uid||"":m,J=a.parentUids[0]&&u[m]?.name?{tags:[u[m].name]}:{},O=A.add(J,h);O&&(z.push({name:"request",params:{workspace:o.value?.uid,request:O.uid}}),w.hotKeys.emit({focusAddressBar:new KeyboardEvent("keydown",{key:"l"})}))}const fe=X(()=>{const{uid:m,watchModeStatus:h}=s.value||{};return m!==y.value.entity.uid?"text-c-3":h==="WATCHING"?"text-c-1":h==="ERROR"?"text-red":"text-c-3"}),Ne=X(()=>y.value.title==="Drafts"&&P!=="modal"&&y.value.children.length>0),Re=X(()=>{const m=d[a.uid];if(m)return!St(m);const h=u[a.uid];return h?!St(h):!0});return(m,h)=>{const J=ts("RequestSidebarItem",!0);return Re.value?(_(),ee("li",{key:0,class:ae(["relative flex flex-row",[l(P)==="modal"&&m.parentUids.length>1||l(P)!=="modal"&&m.parentUids.length?"before:bg-border indent-border-line-offset mb-[.5px] before:pointer-events-none before:absolute before:top-0 before:left-[calc(.75rem_+_.5px)] before:z-1 before:h-[calc(100%_+_.5px)] before:w-[.5px] last:mb-0 last:before:h-full":""]])},[T(l(as),{id:y.value.entity.uid,ref_key:"draggableRef",ref:ne,ceiling:de.value.ceiling,class:"gap-1/2 flex flex-1 flex-col text-base",floor:de.value.floor,isDraggable:m.isDraggable,isDroppable:m.isDroppable,parentIds:m.parentUids,onOnDragEnd:h[12]||(h[12]=(...O)=>m.$emit("onDragEnd",...O))},{default:R(()=>[(y.value.entity.type==="request"||y.value.entity.type==="requestExample")&&y.value.to?(_(),j(l(Xt),{key:0,class:"group no-underline",to:y.value.to,onClick:h[1]||(h[1]=te(O=>U(O,y.value),["prevent"]))},{default:R(({isExactActive:O})=>[g("div",{class:ae(["relative flex min-h-8 w-full cursor-pointer flex-row items-start justify-between gap-0.5 rounded py-1.5 pr-2",[zt,O||re.value?"bg-sidebar-b-active text-sidebar-c-active font-medium transition-none":"text-sidebar-c-2"]])},[g("span",cr,ye(y.value.title||"Untitled"),1),g("div",ur,[g("div",dr,[l(P)!=="modal"?(_(),j(l(pe),{key:0,class:ae(["hover:bg-b-3 hidden aspect-square h-fit px-0.5 py-0 opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:m.menuItem?.item?.entity.uid===y.value.entity.uid&&m.menuItem.open}]),size:"sm",type:"button",variant:"ghost",onClick:h[0]||(h[0]=te(Q=>m.$emit("openMenu",{item:y.value,parentUids:m.parentUids,targetRef:Q.currentTarget,open:!m.menuItem.open}),["stop","prevent"]))},{default:R(()=>[T(l(G),{icon:"Ellipses",size:"md"})]),_:1},8,["class"])):W("",!0)]),g("span",fr,[h[13]||(h[13]=we("  ",-1)),h[14]||(h[14]=g("span",{class:"sr-only"},"HTTP Method:",-1)),y.value.method?(_(),j(l(pa),{key:0,class:"font-bold",method:y.value.method},null,8,["method"])):W("",!0)])])],2)]),_:1},8,["to"])):(l(P)!=="modal"||m.parentUids.length)&&y.value.entity.type==="collection"&&y.value.to?(_(),j(l(Xt),{key:1,"aria-expanded":!!l(q)[y.value.entity.uid],class:ae(["hover:bg-b-2 group relative flex w-full flex-row justify-start gap-1.5 rounded p-1.5 no-underline focus-visible:z-10",[zt,{"bg-sidebar-b-active text-sidebar-c-active transition-none":typeof l(z).currentRoute.value.name=="string"&&l(z).currentRoute.value.name.startsWith("collection")&&l(z).currentRoute.value.params[l(le).Collection]===y.value.entity.uid,"text-c-2":y.value.title==="Untitled Collection"}]]),to:y.value.to},{default:R(()=>[g("span",{class:"flex h-5 max-w-[14px] cursor-pointer items-center justify-center",onClick:h[2]||(h[2]=te(O=>l(Z)(y.value.entity.uid),["stop","prevent"]))},[Gt(m.$slots,"leftIcon",{},()=>[T(l(ea),{class:"text-c-3 shrink-0",open:!!l(q)[y.value.entity.uid]},null,8,["open"])],!0),h[15]||(h[15]=we("  ",-1))]),g("div",hr,[g("span",pr,ye(y.value.title),1),g("div",mr,[g("div",{class:ae(["items-center gap-px opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:m.menuItem.open,hidden:!m.menuItem.open||m.menuItem.item?.entity.uid!==y.value.entity.uid}])},[l(P)!=="modal"&&!b.value||b.value&&Ne.value?(_(),j(l(pe),{key:0,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:h[3]||(h[3]=te(O=>m.$emit("openMenu",{item:y.value,parentUids:m.parentUids,targetRef:O.currentTarget.parentNode,open:!0}),["stop","prevent"]))},{default:R(()=>[T(l(G),{icon:"Ellipses",size:"md"})]),_:1})):W("",!0),l(P)!=="modal"?(_(),j(l(pe),{key:1,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:h[4]||(h[4]=te(O=>H(y.value.entity.uid),["stop","prevent"]))},{default:R(()=>[T(l(G),{icon:"Add",size:"md",thickness:"2"})]),_:1})):W("",!0)],2),y.value.watchMode?(_(),j(l(ta),{key:0,placement:"right",offset:12,content:`Watching: ${y.value.documentUrl}`},{default:R(()=>[g("button",vr,[T(l(G),{class:ae(["ml-0.5 text-sm",fe.value]),icon:"Watch",size:"md",thickness:"2"},null,8,["class"])])]),_:1},8,["content"])):W("",!0),h[16]||(h[16]=g("span",null,"",-1))])])]),_:3},8,["aria-expanded","class","to"])):l(P)!=="modal"||m.parentUids.length?(_(),ee("button",{key:2,"aria-expanded":!!l(q)[y.value.entity.uid],class:ae(["hover:bg-b-2 group relative flex w-full flex-row justify-start gap-1.5 rounded p-1.5 focus-visible:z-10",[zt]]),type:"button",onClick:h[7]||(h[7]=O=>l(Z)(y.value.entity.uid))},[g("span",gr,[Gt(m.$slots,"leftIcon",{},()=>[T(l(ea),{class:"text-c-3 hover:text-c-1 shrink-0",open:!!l(q)[y.value.entity.uid]},null,8,["open"])],!0),h[17]||(h[17]=we("  ",-1))]),g("div",_r,[g("span",br,ye(y.value.title),1),g("div",xr,[g("div",{class:ae(["items-center gap-px opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:m.menuItem.open,hidden:!m.menuItem.open||m.menuItem.item?.entity.uid!==y.value.entity.uid}])},[l(P)!=="modal"&&!b.value||b.value&&Ne.value?(_(),j(l(pe),{key:0,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:h[5]||(h[5]=te(O=>m.$emit("openMenu",{item:y.value,parentUids:m.parentUids,targetRef:O.currentTarget.parentNode,open:!0}),["stop","prevent"]))},{default:R(()=>[T(l(G),{icon:"Ellipses",size:"md"})]),_:1})):W("",!0),l(P)!=="modal"?(_(),j(l(pe),{key:1,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:h[6]||(h[6]=te(O=>H(y.value.entity.uid),["stop","prevent"]))},{default:R(()=>[T(l(G),{icon:"Add",size:"md",thickness:"2"})]),_:1})):W("",!0)],2),y.value.watchMode?(_(),j(l(ta),{key:0,content:"Watching: {{ item.documentUrl }}",placement:"right",offset:12},{default:R(()=>[g("button",kr,[T(l(G),{class:ae(["ml-0.5 text-sm",fe.value]),icon:"Watch",size:"md",thickness:"2"},null,8,["class"])])]),_:1})):W("",!0),h[18]||(h[18]=g("span",null,"",-1))])])],10,yr)):W("",!0),oe.value?(_(),ee("ul",wr,[(_(!0),ee($e,null,it(y.value.children,O=>(_(),j(J,{key:O,isDraggable:!l(c)[O],isDroppable:K,menuItem:m.menuItem,parentUids:[...m.parentUids,m.uid],uid:O,onNewTab:h[8]||(h[8]=(Q,Ze)=>m.$emit("newTab",Q,Ze)),onOnDragEnd:h[9]||(h[9]=(...Q)=>m.$emit("onDragEnd",...Q)),onOpenMenu:h[10]||(h[10]=Q=>m.$emit("openMenu",Q))},null,8,["isDraggable","menuItem","parentUids","uid"]))),128)),y.value.children.length===0?(_(),j(l(pe),{key:0,class:ae(["text-c-1 hover:bg-b-2 flex h-8 w-full justify-start gap-1.5 py-0 text-xs",m.parentUids.length?"pl-9":""]),variant:"ghost",onClick:h[11]||(h[11]=O=>H(y.value.entity.uid))},{default:R(()=>[T(l(G),{icon:"Add",size:"sm"}),h[19]||(h[19]=g("span",null,"Add Request",-1))]),_:1},8,["class"])):W("",!0)])):W("",!0)]),_:3},8,["id","ceiling","floor","isDraggable","isDroppable","parentIds"])],2)):W("",!0)}}}),Cr=Mt(Tr,[["__scopeId","data-v-4f5a9d1f"]]),Sr={class:"flex w-[inherit] items-center text-base"},Rr={class:"m-0 flex items-center gap-1.5 font-bold"},Er={class:"line-clamp-1 text-left"},Ir={class:"overflow-hidden text-ellipsis"},$r={class:"flex h-4 w-4 items-center justify-center"},Ar=Oe({__name:"WorkspaceDropdown",setup(a){const{activeWorkspace:e}=Ue(),{workspaces:t,workspaceMutators:s,events:n}=ze(),{push:r}=Ge(),o=q=>{q!==e.value?.uid&&r({name:"workspace",params:{workspace:q}})},i=X(()=>Object.keys(t).length===1),u=()=>n.commandPalette.emit({commandName:"Create Workspace"}),d=se(""),c=se(""),C=nt(),M=nt(),A=q=>{const Z=t[q];Z&&(d.value=Z.name,c.value=q,C.show())},E=q=>{q.trim()&&(s.edit(c.value,"name",q.trim()),C.hide())},w=q=>{const Z=t[q];Z&&(d.value=Z.name,c.value=q,M.show())},z=async()=>{if(!i.value){const q=e.value?.uid===c.value,Z={...t};if(delete Z[c.value],s.delete(c.value),q){const P=Object.keys(Z)[0];await r({name:"workspace",params:{workspace:P}})}}M.hide()};return(q,Z)=>(_(),ee("div",null,[g("div",Sr,[T(l(Vt),null,{items:R(()=>[(_(!0),ee($e,null,it(l(t),(P,y)=>(_(),j(l(Pe),{key:y,class:"group/item flex w-full items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:te(b=>o(P.uid),["stop"])},{default:R(()=>[T(l(Pt),{selected:l(e)?.uid===y},null,8,["selected"]),g("span",Ir,ye(P.name),1),T(l(Vt),{placement:"right-start",teleport:""},{items:R(()=>[T(l(Pe),{class:"flex gap-2",onMousedown:b=>A(P.uid),onTouchend:te(b=>A(P.uid),["prevent"])},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),Z[2]||(Z[2]=g("span",null,"Rename",-1))]),_:1},8,["onMousedown","onTouchend"]),i.value?W("",!0):(_(),j(l(Pe),{key:0,class:"flex gap-2",onMousedown:te(b=>w(P.uid),["prevent"]),onTouchend:te(b=>w(P.uid),["prevent"])},{default:R(()=>[T(l(G),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),Z[3]||(Z[3]=g("span",null,"Delete",-1))]),_:1},8,["onMousedown","onTouchend"]))]),default:R(()=>[T(l(pe),{class:"hover:bg-b-3 -mr-1 ml-auto aspect-square h-fit px-0.5 py-0 group-hover/item:flex",size:"sm",type:"button",variant:"ghost"},{default:R(()=>[T(l(G),{icon:"Ellipses",size:"sm"})]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128)),T(l(ca)),T(l(Pe),{class:"flex items-center gap-1.5",onClick:u},{default:R(()=>[g("div",$r,[T(l(G),{icon:"Add",size:"sm"})]),Z[4]||(Z[4]=g("span",null,"Create Workspace",-1))]),_:1})]),default:R(()=>[T(l(pe),{class:"text-c-1 hover:bg-b-2 line-clamp-1 h-full w-fit justify-start px-1.5 py-1.5 font-normal",variant:"ghost"},{default:R(()=>[g("div",Rr,[g("h2",Er,ye(l(e)?.name),1)])]),_:1})]),_:1})]),T(l(rt),{size:"xxs",state:l(M),title:"Delete workspace"},{default:R(()=>[T(Lt,{variableName:d.value,warningMessage:"This cannot be undone. You're about to delete the workspace and everything inside it.",onClose:Z[0]||(Z[0]=P=>l(M).hide()),onDelete:z},null,8,["variableName"])]),_:1},8,["state"]),T(l(rt),{size:"xxs",state:l(C),title:"Rename Workspace"},{default:R(()=>[T(ma,{name:d.value,onClose:Z[1]||(Z[1]=P=>l(C).hide()),onEdit:E},null,8,["name"])]),_:1},8,["state"])]))}}),Or={class:"bg-b-1 sticky top-0 z-20 flex h-12 items-center px-3"},Nr={key:1,class:"text-c-3"},Zr=["aria-pressed"],Mr={class:"sr-only"},jr={key:0,class:"search-button-fade sticky top-12 z-10 px-3 py-2.5 pt-0 focus-within:z-20",role:"search"},Dr={key:1,class:"contents"},qr={key:0,class:"empty-sidebar-item-content px-2.5 py-2.5"},Ur={class:"rabbit-ascii relative m-auto mt-2 h-[68px] w-[60px]"},zr=Oe({__name:"RequestSidebar",emits:["newTab","clearDrafts"],setup(a,{emit:e}){const t=e,{collapsedSidebarFolders:s,isSidebarOpen:n,setCollapsedSidebarFolder:r,toggleSidebarOpen:o}=Zt(),{layout:i}=Xe(),u=ze(),{activeCollection:d,activeWorkspaceCollections:c,activeRequest:C,activeWorkspaceRequests:M,activeWorkspace:A}=Ue(),{findRequestParents:E,events:w,requestMutators:z,requests:q}=u,{handleDragEnd:Z,isDroppable:P}=ar(A,u),{replace:y}=Ge(),b=()=>{w.commandPalette.emit({commandName:"Import from OpenAPI/Swagger/Postman/cURL"})},k=ns(),{toast:B}=Jt(),oe=rs({open:!1}),re=se(!1);ke(C,L=>{L&&E(L).forEach(S=>r(S,!0))},{immediate:!0});const{searchText:ne,searchResultsWithPlaceholderResults:de,selectedSearchResult:K,onSearchResultClick:U,fuseSearch:H,searchInputRef:fe,searchResultRefs:Ne,navigateSearchResults:Re,selectSearchResult:m}=tr(),h=se(),J=L=>{L&&(L.toggleSidebar&&o(),L.focusRequestSearch&&fe.value?.focus())};bt(()=>w.hotKeys.on(J)),Yt(()=>{w.hotKeys.off(J)});const O=L=>{if(L?.documentUrl){L.watchMode=!L.watchMode;const S=c.value.find(F=>F.uid===L.entity.uid);S&&(S.watchMode=L.watchMode)}};ke(()=>c.value.map(L=>L.watchMode),(L,S)=>{L.forEach((F,ue)=>{if(i!=="modal"&&F!==S[ue]&&c.value[ue]?.info?.title!=="Drafts"&&c.value[ue]){const xe=c.value[ue];if(!xe)return;const Ea=`${xe.info?.title}: Watch Mode ${F?"enabled":"disabled"}`;B(Ea,"info")}})});const Q=X(()=>{const L=de.value;if(!L.length)return"No results found";const S=L[K.value]?.item;if(!S)return"No result selected";const F=ne.value.length?`${L.length} result${L.length===1?"":"s"} found, `:"",ue=`, HTTP Method ${S.httpVerb}, Path ${S.path}`,xe=`${S.title} ${ue}`;return`${F}Selected: ${xe}`}),Ze=()=>{const L=c.value.find(S=>S.info?.title==="Drafts");if(L&&L.requests.forEach(S=>{q[S]&&z.delete(q[S],L.uid)}),M.value.length){const S=c.value[0]?.requests[0];S&&y({name:"request",params:{[le.Request]:S}})}else{const{request:S}=fa();L&&(z.add(S,L.uid),y({name:"request",params:{[le.Request]:S.uid}}))}};ke(re,L=>{L||(ne.value="")});const be=X(()=>lr(c.value,M.value,q)),kt=X(()=>i==="modal"&&d.value?[d.value]:c.value);function Ra(L){!ne.value&&L.relatedTarget!==h.value&&(re.value=!1)}return(L,S)=>(_(),ee($e,null,[oa(T(l(ks),{class:ae([l(n)?"sidebar-active-width":""])},os({content:R(()=>[g("div",Or,[g("div",{class:ae(["size-8",{"xl:hidden":l(i)!=="modal"}])},null,2),l(i)!=="modal"?(_(),j(l(Ar),{key:0})):W("",!0),l(i)!=="modal"?(_(),ee("span",Nr," / ")):W("",!0),l(i)!=="modal"?(_(),j(er,{key:2})):W("",!0),g("button",{ref_key:"searchToggleRef",ref:h,"aria-pressed":re.value,class:"ml-auto",type:"button",onClick:S[0]||(S[0]=F=>re.value=!re.value)},[g("span",Mr,ye(re.value?"Hide":"Show")+" search ",1),T(l(G),{class:"text-c-3 hover:bg-b-2 max-h-8 max-w-8 rounded-lg p-1.75 text-sm",icon:"Search"})],8,Zr)]),re.value?(_(),ee("div",jr,[T(l(Ss),{ref_key:"searchInputRef",ref:fe,modelValue:l(ne),"onUpdate:modelValue":S[1]||(S[1]=F=>ha(ne)?ne.value=F:null),autofocus:"","aria-controls":l(k),label:Q.value,onInput:l(H),onKeydown:[S[2]||(S[2]=wt(te(F=>l(Re)("down"),["stop"]),["down"])),S[3]||(S[3]=wt(te(F=>l(m)(),["stop"]),["enter"])),S[4]||(S[4]=wt(te(F=>l(Re)("up"),["stop"]),["up"]))],onBlur:Ra},null,8,["modelValue","aria-controls","label","onInput"])])):W("",!0),g("div",{class:ae(["gap-1/2 flex flex-1 flex-col overflow-visible overflow-y-auto px-3 pt-0 pb-3",[{"pb-14":l(i)!=="modal"},{"h-[calc(100%-273.5px)]":be.value}]]),onDragenter:S[7]||(S[7]=te(()=>{},["prevent"])),onDragover:S[8]||(S[8]=te(()=>{},["prevent"]))},[l(ne)?(_(),j(l(ls),{key:0,id:l(k),"aria-label":"Search Results",class:"gap-px",noResults:!l(de).length},{default:R(()=>[(_(!0),ee($e,null,it(l(de),(F,ue)=>(_(),j(l(cs),{id:`#search-input-${F.item.id}`,key:F.refIndex,ref_for:!0,ref:xe=>l(Ne)[ue]=xe,selected:l(K)===ue,class:"px-2",href:F.item.link,onClick:te(xe=>l(U)(F),["prevent"]),onFocus:xe=>K.value=ue},{addon:R(()=>[S[10]||(S[10]=g("span",{class:"sr-only"},"HTTP Method:",-1)),T(pa,{class:"font-bold",method:F.item.httpVerb??"get"},null,8,["method"])]),default:R(()=>[we(ye(F.item.title)+" ",1)]),_:2},1032,["id","selected","href","onClick","onFocus"]))),128))]),_:1},8,["id","noResults"])):(_(),ee("nav",Dr,[(_(!0),ee($e,null,it(kt.value,F=>(_(),j(Cr,{key:F.uid,isDraggable:l(i)!=="modal"&&F.info?.title!=="Drafts",isDroppable:l(P),menuItem:oe,parentUids:[],uid:F.uid,onNewTab:S[5]||(S[5]=(ue,xe)=>t("newTab",{name:ue,uid:xe})),onOnDragEnd:l(Z),onOpenMenu:S[6]||(S[6]=ue=>Object.assign(oe,ue))},{leftIcon:R(()=>[F.info?.title==="Drafts"?(_(),j(l(G),{key:0,class:"text-sidebar-c-2 group-hover:hidden",icon:"Scribble",thickness:"2.25"})):(_(),j(l(da),{key:1,class:"text-sidebar-c-2 size-3.5 min-w-3.5 stroke-2 group-hover:hidden",src:F["x-scalar-icon"]||"interface-content-folder"},null,8,["src"])),g("div",{class:ae({"rotate-90":l(s)[F.uid]})},[T(l(G),{class:"text-c-3 hover:text-c-1 hidden text-sm group-hover:block",icon:"ChevronRight",size:"md"})],2)]),_:2},1032,["isDraggable","isDroppable","menuItem","uid","onOnDragEnd"]))),128))]))],34)]),button:R(()=>[g("div",{class:ae({"empty-sidebar-item":be.value})},[be.value?(_(),ee("div",qr,[g("div",Ur,[T(sa,{art:l(Kn),class:"rabbitsit font-bold"},null,8,["art"]),T(sa,{art:l(Qn),class:"rabbitjump absolute top-0 left-0 font-bold"},null,8,["art"])]),S[11]||(S[11]=g("div",{class:"mt-2 mb-2 text-center text-sm text-balance"},[g("b",{class:"font-medium"},"Let's Get Started"),g("p",{class:"mt-2"}," Create request, folder, collection or import from OpenAPI/Postman ")],-1))])):W("",!0),l(i)!=="modal"?(_(),j(l(pe),{key:1,class:ae(["mb-1.5 hidden h-fit w-full p-1.5 opacity-0",{"flex opacity-100":be.value}]),onClick:b},{default:R(()=>[...S[12]||(S[12]=[we(" Import Collection ",-1)])]),_:1},8,["class"])):W("",!0),l(i)!=="modal"?(_(),j(xs,{key:2,click:l(w).commandPalette.emit,hotkey:"K"},{title:R(()=>[...S[13]||(S[13]=[we(" Add Item ",-1)])]),_:1},8,["click"])):W("",!0)],2)]),_:2},[l(i)!=="modal"?{name:"header",fn:R(()=>[]),key:"0"}:void 0]),1032,["class"]),[[is,l(n)]]),l(i)!=="modal"&&oe?(_(),j(or,{key:0,menuItem:oe,onClearDrafts:Ze,onCloseMenu:S[9]||(S[9]=F=>oe.open=!1),onToggleWatchMode:O},null,8,["menuItem"])):W("",!0)],64))}}),Pr=Mt(zr,[["__scopeId","data-v-bca9c474"]]),ia=()=>typeof window<"u"&&"electron"in window,Vr=(a,e=!1)=>{const t=Object.fromEntries(a);e&&["Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers"].map(r=>r.toLowerCase()).forEach(r=>delete t[r]);const s=Object.keys(t).find(r=>r.toLowerCase()==="x-scalar-modified-headers"),n=s?t[s]?.toString().split(", ")?.map(r=>r.toLowerCase())??[]:[];return Object.keys(t).forEach(r=>{n.includes(r.toLowerCase())&&delete t[r]}),s&&delete t[s],Object.keys(t).forEach(r=>{const o=/^x-scalar-original-/i;if(o.test(r)){const i=r.replace(o,"");t[r]&&(t[i]=t[r],delete t[r])}}),Object.keys(t).forEach(r=>{const o=Lr(r);r!==o&&t[r]&&(t[o]=t[r],delete t[r])}),Object.fromEntries(Object.entries(t).sort(([r],[o])=>r.localeCompare(o)))},Lr=a=>a.split("-").map(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)).join("-");function Wr(a,e,t){if(!ms(a))return{body:void 0,contentType:void 0};if(e.body.activeBody==="formData"&&e.body.formData){const s=e.body.formData.encoding==="form-data"?"multipart/form-data":"application/x-www-form-urlencoded",n=e.body.formData.encoding==="form-data"?new FormData:new URLSearchParams;return e.body.formData.value.forEach(r=>{!r.enabled||!r.key||(r.file&&n instanceof FormData?n.append(r.key,r.file,r.file.name):r.value!==void 0&&n.append(r.key,me(r.value,t)))}),{body:n,contentType:s}}return e.body.activeBody==="raw"?{body:me(e.body.raw?.value??"",t),contentType:e.body.raw?.encoding}:e.body.activeBody==="binary"?{body:e.body.binary,contentType:e.body.binary?.type}:{body:void 0,contentType:void 0}}function Br(a,e){const t={};return a.parameters.headers.forEach(s=>{const n=s.key.trim().toLowerCase();s.enabled&&(n!=="content-type"||s.value!=="multipart/form-data")&&(t[n]=me(s.value,e))}),t}function Fr(a,e,t){const s=new URLSearchParams,n=(t?.parameters??[]).reduce((r,o)=>(o.in==="query"&&(r[o.name]=o),r),{});return a.parameters.query.forEach(r=>{if(!r.enabled)return;const o=n[r.key];switch(r.type){case"array":{const i=me(r.value??"",e).split(/,\ ?/);if(o?.explode===!1){const u=i.join(",");s.append(r.key,u)}else i.forEach(u=>{s.append(r.key,u.trim())});break}default:{const i=me(r.value??"",e);s.append(r.key,i.trim());break}}}),s}function Hr(a,e){const t=new us(e);return vs(t.essence)?new TextDecoder(t.parameters.get("charset")).decode(a):new Blob([a],{type:t.essence})}const Jr=({environment:a,example:e,globalCookies:t,proxyUrl:s,request:n,securitySchemes:r,selectedSecuritySchemeUids:o=[],server:i,status:u,pluginManager:d})=>{try{const c=a??{},C=new AbortController,M=e.parameters.path.reduce((K,U)=>(U.enabled&&(K[U.key]=me(U.value,c)),K),{}),A=me(i?.url??"",c),E=me(me(n.path,c),M);let w=A||E;if(!w)throw Tt.URL_EMPTY;Object.entries(i?.variables??{}).forEach(([K,U])=>{w=me(w,{[K]:M[K]||U.default})});const z=Fr(e,c,n),q=Br(e,c),{body:Z}=Wr(n.method,e,c),{cookieParams:P}=ys({example:e,env:c,globalCookies:t,serverUrl:w,proxyUrl:s}),y=o.flat().map(K=>r[K]).filter(Ct),b=gs(y,c),k={...Object.entries(b.headers).reduce((K,[U,H])=>(K[U.toLowerCase()]=H,K),{}),...q},B=[...P,...b.cookies],oe=new URLSearchParams([...z,...b.urlParams]);ia()&&k["user-agent"]&&(k["X-Scalar-User-Agent"]=k["user-agent"]),w=ds(w,E,oe);const re=me(_s(B,k.Cookie),c);re&&(ia()||aa(s,w)?(console.warn("We're using a `X-Scalar-Cookie` custom header to the request. The proxy will forward this as a `Cookie` header. We do this to avoid the browser omitting the `Cookie` header for cross-origin requests for security reasons."),k["X-Scalar-Cookie"]=re):(console.warn(`We're trying to add a Cookie header, but browsers often omit them for cross-origin requests for various security reasons. If it's not working, that's probably why. Here are the requirements for it to work:

          - The browser URL must be on the same domain as the server URL.
          - The connection must be made over HTTPS.
          `),k.Cookie=re));const ne=fs(s,w),de=new Request(ne,{method:n.method.toUpperCase(),body:Z??null,headers:k});return[null,{request:de,sendRequest:async()=>{if(u?.emit("start"),d)try{await d.executeHook("onBeforeRequest",{request:de})}catch(U){const H=new Error(Tt.ON_BEFORE_REQUEST_FAILED,{cause:U});return u?.emit("abort"),[qt(H),null]}const K=Date.now();try{const U=await fetch(de,{signal:C.signal}),H=U.headers.get("content-type")?.startsWith("text/event-stream");u?.emit("stop");const fe=Date.now()-K,Ne=U.clone(),Re=Vr(U.headers,aa(s,w)),m=U.headers.get("content-type")??"text/plain;charset=UTF-8",h=await Ne.arrayBuffer(),J=Hr(h,m),O=U.clone(),Q=O.statusText||bs[O.status]?.name||"",Ze=[204,205,304].includes(O.status),be=new Response(Ze?null:O.body,{status:O.status,statusText:Q,headers:O.headers});d&&await d.executeHook("onResponseReceived",{response:be,operation:n});const kt="getSetCookie"in be.headers&&typeof be.headers.getSetCookie=="function"?be.headers.getSetCookie():[];return H&&U.body?[null,{timestamp:Date.now(),request:e,response:{...be,headers:Re,cookieHeaderKeys:kt,reader:U.body?.getReader(),duration:fe,method:n.method,path:E}}]:[null,{timestamp:Date.now(),request:e,response:{...U,headers:Re,cookieHeaderKeys:kt,data:J,size:h.byteLength,duration:Date.now()-K,method:n.method,status:U.status,path:E}}]}catch(U){return u?.emit("abort"),[qt(U,Tt.REQUEST_FAILED),null]}},controller:C}]}catch(c){return console.error(c),u?.emit("abort"),[qt(c),null]}},Yr={class:"flex h-full"},Kr={class:"flex h-full flex-1 flex-col"},Qr=Oe({__name:"RequestRoot",emits:["newTab"],setup(a){const e=ze(),{toast:t}=Jt(),{layout:s}=Xe(),n=la(),{isSidebarOpen:r}=Zt(),o=Bn(),{activeCollection:i,activeExample:u,activeEnvironment:d,activeRequest:c,activeWorkspace:C,activeServer:M}=Ue(),{cookies:A,requestHistory:E,showSidebar:w,securitySchemes:z,modalState:q,events:Z}=e,P=hs(),y=se(),b=se(),k=X(()=>Fn(u.value??null)),B=se(null),oe=X(()=>(i.value?.useCollectionSecurity?i.value?.selectedSecuritySchemeUids:c.value?.selectedSecuritySchemeUids)??[]),re=async()=>{if(!c.value||!u.value||!i.value)return;if(k.value.hasBlockingErrors){t("Path parameters must have values.","error"),Z.requestStatus.emit("abort");return}const U=typeof d.value=="object"?d.value.value:"{}",H=Rs.parse(U);H.error&&console.error("INVALID ENVIRONMENT!");const fe=H.error||typeof H.data!="object"?{}:H.data??{},Ne=C.value?.cookies.map(Q=>A[Q]).filter(Ct)??[],Re=i.value?.info?.title==="Drafts"?void 0:M.value,[m,h]=Jr({request:c.value,example:u.value,selectedSecuritySchemeUids:oe.value,proxyUrl:C.value?.proxyUrl??"",environment:fe,globalCookies:Ne,status:Z.requestStatus,securitySchemes:z,server:Re,pluginManager:P});if(n.value?.onRequestSent?.(c.value.path??""),m){t(m.message,"error");return}b.value=h.controller;const[J,O]=await h.sendRequest();B.value=O,J?t(J.message,"error"):E.push(K(O))},ne=async()=>b.value?.abort(Tt.REQUEST_ABORTED);function de(){o?.capture("client-send-request")}ke(q,({open:U})=>{U||ne()}),bt(()=>{Z.executeRequest.on(re),Z.executeRequest.on(de),Z.cancelRequest.on(ne)}),Yn(),Yt(()=>{Z.executeRequest.off(re),Z.executeRequest.off(de),Z.cancelRequest.off(ne)});const K=U=>{try{return structuredClone(U)}catch{const H={...U};return U.response?.data&&(U.response.data instanceof Blob||U.response.data instanceof ArrayBuffer?H.response.data=U.response.data:H.response.data=JSON.parse(JSON.stringify(U.response.data))),H}};return(U,H)=>(_(),ee("div",{ref_key:"element",ref:y,class:ae(["bg-b-1 relative z-0 flex h-full flex-1 flex-col overflow-hidden pt-0",{"!mr-0 !mb-0 !border-0":l(s)==="modal"}])},[l(w)?(_(),j(Os,{key:0,modelValue:l(r),"onUpdate:modelValue":H[0]||(H[0]=fe=>ha(r)?r.value=fe:null),class:ae(["absolute top-2 left-3 z-50",[{hidden:l(r)},{"xl:!flex":!l(r)},{"!flex":l(s)==="modal"}]])},null,8,["modelValue","class"])):W("",!0),g("div",Yr,[l(w)?(_(),j(Pr,{key:0,onNewTab:H[1]||(H[1]=fe=>U.$emit("newTab",fe))})):W("",!0),g("div",Kr,[T(l(ps),{invalidParams:k.value.invalidParams,requestResult:B.value,selectedSecuritySchemeUids:oe.value},null,8,["invalidParams","requestResult","selectedSecuritySchemeUids"])])])],2))}}),ii=Mt(Qr,[["__scopeId","data-v-c508c571"]]);export{ii as default};
